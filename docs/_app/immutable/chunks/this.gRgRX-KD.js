import{h as c,c as y,b as A,v as R,w as x,s as N,x as T,y as E,d as u,z as h,e as _,E as v,am as Y,an as b,X as g,A as q,Y as F}from"./runtime.B_cWVo4L.js";function O(a,i,r,t=null,f=!1){c&&y();var s=a,e=null,n=null,l=null,S=f?v:0;A(()=>{if(l===(l=!!i()))return;let d=!1;if(c){const k=s.data===R;l===k&&(s=x(),N(s),T(!1),d=!0)}l?(e?E(e):e=u(()=>r(s)),n&&h(n,()=>{n=null})):(n?E(n):t&&(n=u(()=>t(s))),e&&h(e,()=>{e=null})),d&&T(!0)},S),c&&(s=_)}function p(a,i,r){c&&y();var t=a,f,s;A(()=>{f!==(f=i())&&(s&&(h(s),s=null),f&&(s=u(()=>r(t,f))))},v),c&&(t=_)}function o(a,i){return a===i||(a==null?void 0:a[F])===i}function w(a={},i,r,t){return Y(()=>{var f,s;return b(()=>{f=s,s=[],g(()=>{a!==r(...s)&&(i(a,...s),f&&o(r(...f),a)&&i(null,...f))})}),()=>{q(()=>{s&&o(r(...s),a)&&i(null,...s)})}}),a}export{w as b,p as c,O as i};
